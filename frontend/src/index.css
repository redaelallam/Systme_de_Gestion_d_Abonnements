@import "tailwindcss";
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap');

@theme {
  /* =========================
     Color Palette – Light Mode
     ========================= */
  --color-background: hsl(220 20% 97%);
  --color-foreground: hsl(220 20% 10%);

  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(220 20% 10%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(220 20% 10%);

  --color-primary: hsl(230 80% 56%);
  --color-primary-foreground: hsl(0 0% 100%);

  --color-secondary: hsl(220 14% 96%);
  --color-secondary-foreground: hsl(220 20% 10%);

  --color-muted: hsl(220 14% 96%);
  --color-muted-foreground: hsl(220 10% 46%);

  --color-accent: hsl(230 80% 96%);
  --color-accent-foreground: hsl(230 80% 40%);

  --color-destructive: hsl(0 84% 60%);
  --color-destructive-foreground: hsl(0 0% 100%);

  --color-border: hsl(220 13% 91%);
  --color-input: hsl(220 13% 91%);
  --color-ring: hsl(230 80% 56%);

  /* Functional Colors */
  --color-success: hsl(152 69% 40%);
  --color-success-foreground: hsl(0 0% 100%);
  --color-warning: hsl(38 92% 50%);
  --color-warning-foreground: hsl(26 83% 14%);
  --color-info: hsl(210 92% 55%);
  --color-info-foreground: hsl(0 0% 100%);

  /* Chart Colors */
  --color-chart-1: hsl(230 80% 56%);
  --color-chart-2: hsl(160 60% 45%);
  --color-chart-3: hsl(38 92% 50%);
  --color-chart-4: hsl(280 60% 55%);
  --color-chart-5: hsl(340 75% 55%);

  /* Sidebar */
  --color-sidebar-bg: hsl(230 25% 14%);
  --color-sidebar-fg: hsl(220 14% 90%);
  --color-sidebar-primary: hsl(230 80% 60%);
  --color-sidebar-primary-fg: hsl(0 0% 100%);
  --color-sidebar-accent: hsl(230 20% 20%);
  --color-sidebar-accent-fg: hsl(220 14% 96%);
  --color-sidebar-border: hsl(230 15% 22%);
  --color-sidebar-ring: hsl(230 80% 60%);
  --color-sidebar-muted: hsl(220 10% 50%);

  /* Glass */
  --color-glass: hsl(0 0% 100% / 0.7);
  --color-glass-border: hsl(0 0% 100% / 0.2);

  /* Design Tokens */
  --radius-lg: 0.75rem;
  --radius-md: 0.5rem;
  --radius-sm: 0.375rem;

  /* Font */
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-ar: 'Tajawal', system-ui, sans-serif;
}

@variant dark (&:where(.dark, .dark *));

@layer base {
  .dark {
    --color-background: hsl(225 20% 7%);
    --color-foreground: hsl(220 14% 96%);
    --color-card: hsl(225 18% 11%);
    --color-card-foreground: hsl(220 14% 96%);
    --color-popover: hsl(225 18% 11%);
    --color-popover-foreground: hsl(220 14% 96%);
    --color-primary: hsl(230 80% 65%);
    --color-primary-foreground: hsl(0 0% 100%);
    --color-secondary: hsl(225 15% 16%);
    --color-secondary-foreground: hsl(220 14% 96%);
    --color-muted: hsl(225 15% 16%);
    --color-muted-foreground: hsl(220 10% 55%);
    --color-accent: hsl(230 40% 18%);
    --color-accent-foreground: hsl(230 80% 75%);
    --color-destructive: hsl(0 62% 30%);
    --color-destructive-foreground: hsl(0 0% 98%);
    --color-border: hsl(225 12% 20%);
    --color-input: hsl(225 12% 18%);
    --color-ring: hsl(230 80% 65%);

    --color-success: hsl(152 69% 45%);
    --color-success-foreground: hsl(152 60% 15%);
    --color-warning: hsl(38 92% 55%);
    --color-warning-foreground: hsl(38 80% 15%);

    --color-chart-1: hsl(230 80% 65%);
    --color-chart-2: hsl(160 60% 50%);
    --color-chart-3: hsl(38 92% 60%);
    --color-chart-4: hsl(280 60% 65%);
    --color-chart-5: hsl(340 75% 60%);

    --color-sidebar-bg: hsl(225 22% 8%);
    --color-sidebar-fg: hsl(220 14% 85%);
    --color-sidebar-primary: hsl(230 80% 65%);
    --color-sidebar-primary-fg: hsl(0 0% 100%);
    --color-sidebar-accent: hsl(230 18% 15%);
    --color-sidebar-accent-fg: hsl(220 14% 96%);
    --color-sidebar-border: hsl(225 12% 16%);
    --color-sidebar-muted: hsl(220 10% 45%);

    --color-glass: hsl(225 18% 11% / 0.7);
    --color-glass-border: hsl(0 0% 100% / 0.08);
  }
}

@utility scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
  }
  /* Apply Arabic font when RTL is active */
  :root[dir="rtl"] body,
  :root[dir="rtl"] * {
    font-family: var(--font-ar), system-ui, sans-serif;
  }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes scale-in {
  from { opacity: 0; transform: scale(0.95); }
  to   { opacity: 1; transform: scale(1); }
}

@layer components {
  .glass-card {
    background: var(--color-glass);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--color-glass-border);
  }

  .kpi-card {
    @apply rounded-xl border border-border bg-card p-5 shadow-sm transition-all duration-300;
    &:hover {
      @apply shadow-md -translate-y-0.5;
    }
  }

  .chart-card {
    @apply rounded-xl border border-border bg-card p-6 shadow-sm;
  }

  .table-card {
    @apply rounded-xl border border-border bg-card shadow-sm overflow-hidden;
  }

  /* RTL-aware input icon helper */
  .input-icon {
    @apply absolute top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none z-10;
    inset-inline-start: 0.75rem;
  }

  /* Field wrapper – icon padding both directions */
  .field-input {
    @apply w-full py-2.5 bg-background border border-input rounded-lg outline-none
           focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200
           text-sm placeholder:text-muted-foreground shadow-sm text-foreground;
    padding-inline-start: 2.5rem;
    padding-inline-end: 1rem;
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out both;
  }
  .animate-scale-in {
    animation: scale-in 0.2s ease-out both;
  }
}
